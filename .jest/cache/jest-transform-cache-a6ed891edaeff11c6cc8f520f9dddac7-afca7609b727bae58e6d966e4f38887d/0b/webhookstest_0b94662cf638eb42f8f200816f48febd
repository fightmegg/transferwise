85e9b5c98853292400462859c3cbf36e
"use strict";

var _webhooks = require("../webhooks");

const testEvent = {
  message: "this is a test request"
};
const testSignature = "nuF2qJysTIFnZEP4xKlpAA2j2uSGCdyAmd7ptzaNcucS0AfC/dk0G/TI0Hlwrk8soskfEkSKhH6EcZhkog2c3BCqqj8++PvOBvH7ZDiYtPPelqivD2hniV2pjUzeEam2+83axiVvMNlHr5CdOU4iMN+1DJIBpv/xeX7LZ0D8ACEw9r565gtMKobvyiiGc4XKNsmfWk3wzJVzKGTU7NYzcS6omXqU/NYhoLjJn5xy4aGuf9AVKGUkRDafwTqVcvLOFV9IPDvjIk6IgjwqBbgpxl2ob2nFeATvVfLMKyPvKgwFANDUOdANiaVMTXqIrQgt8LFlp5a8apM/5iDjy2pwIg==";
describe("Webhooks", () => {
  describe("constructEvent", () => {
    test("it is a function", () => {
      expect(_webhooks.constructEvent).toBeInstanceOf(Function);
    });
    test("it returns event if verified to be true", () => {
      const event = (0, _webhooks.constructEvent)(true, JSON.stringify(testEvent), testSignature);
      expect(event).toEqual(testEvent);
    });
    test("it returns null if verification is false", () => {
      const event = (0, _webhooks.constructEvent)(false, JSON.stringify(testEvent), testSignature);
      expect(event).toBeNull();
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYmhvb2tzLnRlc3QuanMiXSwibmFtZXMiOlsidGVzdEV2ZW50IiwibWVzc2FnZSIsInRlc3RTaWduYXR1cmUiLCJkZXNjcmliZSIsInRlc3QiLCJleHBlY3QiLCJjb25zdHJ1Y3RFdmVudCIsInRvQmVJbnN0YW5jZU9mIiwiRnVuY3Rpb24iLCJldmVudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0b0VxdWFsIiwidG9CZU51bGwiXSwibWFwcGluZ3MiOiI7O0FBQUE7O0FBRUEsTUFBTUEsU0FBUyxHQUFHO0FBQUVDLEVBQUFBLE9BQU8sRUFBRTtBQUFYLENBQWxCO0FBRUEsTUFBTUMsYUFBYSxHQUNqQiwwVkFERjtBQUdBQyxRQUFRLENBQUMsVUFBRCxFQUFhLE1BQU07QUFDekJBLEVBQUFBLFFBQVEsQ0FBQyxnQkFBRCxFQUFtQixNQUFNO0FBQy9CQyxJQUFBQSxJQUFJLENBQUMsa0JBQUQsRUFBcUIsTUFBTTtBQUM3QkMsTUFBQUEsTUFBTSxDQUFDQyx3QkFBRCxDQUFOLENBQXVCQyxjQUF2QixDQUFzQ0MsUUFBdEM7QUFDRCxLQUZHLENBQUo7QUFJQUosSUFBQUEsSUFBSSxDQUFDLHlDQUFELEVBQTRDLE1BQU07QUFDcEQsWUFBTUssS0FBSyxHQUFHLDhCQUNaLElBRFksRUFFWkMsSUFBSSxDQUFDQyxTQUFMLENBQWVYLFNBQWYsQ0FGWSxFQUdaRSxhQUhZLENBQWQ7QUFLQUcsTUFBQUEsTUFBTSxDQUFDSSxLQUFELENBQU4sQ0FBY0csT0FBZCxDQUFzQlosU0FBdEI7QUFDRCxLQVBHLENBQUo7QUFTQUksSUFBQUEsSUFBSSxDQUFDLDBDQUFELEVBQTZDLE1BQU07QUFDckQsWUFBTUssS0FBSyxHQUFHLDhCQUNaLEtBRFksRUFFWkMsSUFBSSxDQUFDQyxTQUFMLENBQWVYLFNBQWYsQ0FGWSxFQUdaRSxhQUhZLENBQWQ7QUFLQUcsTUFBQUEsTUFBTSxDQUFDSSxLQUFELENBQU4sQ0FBY0ksUUFBZDtBQUNELEtBUEcsQ0FBSjtBQVFELEdBdEJPLENBQVI7QUF1QkQsQ0F4Qk8sQ0FBUiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNvbnN0cnVjdEV2ZW50IH0gZnJvbSBcIi4uL3dlYmhvb2tzXCI7XG5cbmNvbnN0IHRlc3RFdmVudCA9IHsgbWVzc2FnZTogXCJ0aGlzIGlzIGEgdGVzdCByZXF1ZXN0XCIgfTtcblxuY29uc3QgdGVzdFNpZ25hdHVyZSA9XG4gIFwibnVGMnFKeXNUSUZuWkVQNHhLbHBBQTJqMnVTR0NkeUFtZDdwdHphTmN1Y1MwQWZDL2RrMEcvVEkwSGx3cms4c29za2ZFa1NLaEg2RWNaaGtvZzJjM0JDcXFqOCsrUHZPQnZIN1pEaVl0UFBlbHFpdkQyaG5pVjJwalV6ZUVhbTIrODNheGlWdk1ObEhyNUNkT1U0aU1OKzFESklCcHYveGVYN0xaMEQ4QUNFdzlyNTY1Z3RNS29idnlpaUdjNFhLTnNtZldrM3d6SlZ6S0dUVTdOWXpjUzZvbVhxVS9OWWhvTGpKbjV4eTRhR3VmOUFWS0dVa1JEYWZ3VHFWY3ZMT0ZWOUlQRHZqSWs2SWdqd3FCYmdweGwyb2IybkZlQVR2VmZMTUt5UHZLZ3dGQU5EVU9kQU5pYVZNVFhxSXJRZ3Q4TEZscDVhOGFwTS81aURqeTJwd0lnPT1cIjtcblxuZGVzY3JpYmUoXCJXZWJob29rc1wiLCAoKSA9PiB7XG4gIGRlc2NyaWJlKFwiY29uc3RydWN0RXZlbnRcIiwgKCkgPT4ge1xuICAgIHRlc3QoXCJpdCBpcyBhIGZ1bmN0aW9uXCIsICgpID0+IHtcbiAgICAgIGV4cGVjdChjb25zdHJ1Y3RFdmVudCkudG9CZUluc3RhbmNlT2YoRnVuY3Rpb24pO1xuICAgIH0pO1xuXG4gICAgdGVzdChcIml0IHJldHVybnMgZXZlbnQgaWYgdmVyaWZpZWQgdG8gYmUgdHJ1ZVwiLCAoKSA9PiB7XG4gICAgICBjb25zdCBldmVudCA9IGNvbnN0cnVjdEV2ZW50KFxuICAgICAgICB0cnVlLFxuICAgICAgICBKU09OLnN0cmluZ2lmeSh0ZXN0RXZlbnQpLFxuICAgICAgICB0ZXN0U2lnbmF0dXJlXG4gICAgICApO1xuICAgICAgZXhwZWN0KGV2ZW50KS50b0VxdWFsKHRlc3RFdmVudCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KFwiaXQgcmV0dXJucyBudWxsIGlmIHZlcmlmaWNhdGlvbiBpcyBmYWxzZVwiLCAoKSA9PiB7XG4gICAgICBjb25zdCBldmVudCA9IGNvbnN0cnVjdEV2ZW50KFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgSlNPTi5zdHJpbmdpZnkodGVzdEV2ZW50KSxcbiAgICAgICAgdGVzdFNpZ25hdHVyZVxuICAgICAgKTtcbiAgICAgIGV4cGVjdChldmVudCkudG9CZU51bGwoKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdfQ==